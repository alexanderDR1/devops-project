pipeline {
    agent { any { image 'python:3.8' } }
    stages {
        stage('build') {
            steps {
                bat 'python -m pip install flask'
            }
        }
        stage('dockerbuild') {
            steps {
                dir('C:/Users/MY PC/OneDrive/Documents/Devops project/Devops project') {
                    
                }
                bat 'start/min docker build -t anyname/latest -f Dockerfile.txt  . '
            }
        }
        stage('dockerrun') {
            steps {
                bat 'start/min docker run -p 5000:5000 anyname '
            }
        }

        stage('runcflask') {
            steps {
               bat 'start/min python C:/Users/MY PC/OneDrive/Documents/Devops project/Devops project/rest_app.py'
            }   
        } 
    }
}            
